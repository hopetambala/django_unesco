{% extends 'heritagesites/base.html' %}

{% block content %}

<!-- safe filter on for raw HTML stored in database -->

<header>
       <div class="row">
         <div class="col-sm-10">
           <h2>{{ site.site_name | safe }}</h2>
         </div>
         <div class="col-xs-1">
           {% if user.is_authenticated %}
             <a class="btn btn-outline-secondary" href="{% url 'site_update' site.pk %}">edit</a>
           {% endif %}
         </div>
         <div class="col-xs-1">
           {% if user.is_authenticated %}
             &nbsp;<a class="btn btn-outline-warning" href="{% url 'site_delete' site.pk %}">delete</a>
           {% endif %}
         </div>
       </div>
     </header>
     {% if site.country_area.all %}
     <div class="row">
       <div class="col-sm-2">
         <p>Region</p>
       </div>
       <div class="col-sm-10">
         {% spaceless %}
         <p>
           {% for country_area in site.country_area.all %}
             {% if country_area.location.intermediate_region %}
               {% ifchanged country_area.location.intermediate_region.intermediate_region_id %}
                 {% if forloop.first %}
                   {{ country_area.location.intermediate_region.intermediate_region_name.strip }}
                 {% else %}
                   {{ country_area.location.intermediate_region.intermediate_region_name.strip }}
                 {% endif %}
               {% endifchanged %}
             {% elif country_area.location.sub_region %}
               {% ifchanged country_area.location.sub_region.sub_region_id %}
                 {% if forloop.first %}
                   {{ country_area.location.sub_region.sub_region_name.strip }}
                 {% else %}
                   {{ country_area.location.sub_region.sub_region_name.strip }}
                 {% endif %}
               {% endifchanged %}
             {% elif country_area.location.region %}
               {% ifchanged country_area.location.region.region_id %}
                 {% if forloop.first %}
                   {{ country_area.location.region.region_name.strip }}
                 {% else %}
                   {{ country_area.location.region.region_name.strip }}
                 {% endif %}
               {% endifchanged %}
             {% else %}
               {% ifchanged country_area.location.planet_id %}
                 {{ country_area.location.planet.unsd_name.strip }}
               {% endifchanged %}
             {% endif %}
           {% endfor %}
         </p>
         {% endspaceless %}
       </div>
     </div>
 
     <div class="row">
       <div class="col-sm-2">
         <p>Country / Area</p>
       </div>
       <div class="col-sm-10">
         {% spaceless %}
         <p>
           {% for country_area in site.country_area.all %}
             {% if forloop.last %}
               {{ country_area.country_area_name.strip }} ({{ country_area.iso_alpha3_code.strip }})
             {% else %}
               {{ country_area.country_area_name.strip }} {{ country_area.iso_alpha3_code.strip }}
             {% endif %}
           {% endfor %}
         </p>
         {% endspaceless %}
       </div>
     </div>
 
   {% endif %}
 
   {% if site.heritage_site_category.category_name %}
     <div class="row">
       <div class="col-sm-2">
         <p>Category</p>
       </div>
       <div class="col-sm-10">
         <p>{{ site.heritage_site_category.category_name }}</p>
       </div>
     </div>
   {% endif %}

{% if site.description %}
  <div class="row">
    <div class="col-sm-2">
      <p>Description</p>
    </div>
    <div class="col-sm-10">
      {{site.description | safe}}
    </div>
  </div>
{% endif %}

{% if site.justification %}
<div class="row">
  <div class="col-sm-2">
    <p>Site Justification</p>
  </div>
  <div class="col-sm-10">
    {{site.justification | safe}}
  </div>
</div>
{% endif %}

{% if site.date_inscribed %}
  <div class="row">
    <div class="col-sm-2">
      <p>Date inscribed</p>
    </div>
    <div class="col-sm-10">
      {{site.date_inscribed}}
    </div>
  </div>
{% endif %}

{% if site.latitude and site.longitude %}
  <div class="row">
    <div class="col-sm-2">
      <p>Geo coordinates</p>
    </div>
    <div class="col-sm-4">
      {{site.latitude}}, {{site.longitude}} (<span style="font-style:italic">lat</span>.,
      <span style="font-style:italic">long</span>.)
    </div>
  </div>
{% endif %}

{% if site.area_hectares %}
  <div class="row">
    <div class="col-sm-2">
      <p>Site Hectares</p>
    </div>
    <div class="col-sm-10">
      {{site.area_hectares}}
    </div>
  </div>
{% endif %}

{% if site.heritage_site_category %}
  <div class="row">
    <div class="col-sm-2">
      <p>Site Category</p>
    </div>
    <div class="col-sm-10">
      {{site.heritage_site_category}}
    </div>
  </div>
{% endif %}

{% if site.transboundary %}
  <div class="row">
    <div class="col-sm-2">
      <p>Transboundary</p>
    </div>
    <div class="col-sm-10">
      {{site.transboundary}}
    </div>
  </div>
{% endif %}
<!--
{% if site.country_area %}
  <div class="row">
    <div class="col-sm-2">
      <p>Country Area</p>
    </div>
    <div class="col-sm-10">
      {{site.country_area.name}}
    </div>
  </div>
{% endif %} -->




{% endblock content %}